---
import { AddToCartForm } from "@components/AddToCartForm";
import { formatPrice } from "@utils";

export interface Props {
    id: string;
	title: string;
    description: string;
    cover: string;
	href: string;
    price: number;
}

const { id, title, description, cover, href, price } = Astro.props;
---

<article class="flex flex-col">
    <a class="group" href={href} title={title}>
        <div class="aspect-w-1 aspect-h-1 w-full overflow-hidden rounded bg-gray-200 xl:aspect-w-7 xl:aspect-h-8">
            <img src={cover} alt={description} class="h-full w-full object-cover object-center group-hover:opacity-75">
        </div>
        <h3 class="mt-4 text-sm text-gray-700">{title}</h3>
    </a>
    <p class="my-2 text-lg font-medium text-gray-900 mr-4">{formatPrice(price)}</p>
    <AddToCartForm itemData={{ id, name: title, cover, price }} client:load>
        <button type="submit" class="w-full transition ease-in-out delay-150 rounded p-1 text-indigo-600 hover:bg-indigo-600 hover:border-transparent hover:text-white border-2 border-indigo-600">Add to cart</button>
    </AddToCartForm>
</article>
